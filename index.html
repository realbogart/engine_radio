<html>
	<head>
		<link rel="stylesheet" type="text/css" href="/style">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script type="text/javascript" src="/simplesocket"></script>
		
		<script type="text/javascript">
			var webSocket = $.simpleWebSocket({ url: '<websocket_server>' });
			webSocket.connect();
			
			webSocket.isConnected(function(connected) {
				webSocket.send('connected');
			});
			
			webSocket.listen(function(msgString) {
				var msgJson = JSON.parse( msgString );
				
				if(msgJson.type == 'reload') {
					$('link[href="/style"]').attr('href','/style');
				}
				else if(msgJson.type == 'setBackground') {
					$("body").css("background-image","url('"+msgJson.data+"')");
				}
				else if(msgJson.type == 'setActiveShow') {
					$("#show1").removeClass("showActive");
					$("#show2").removeClass("showActive");
					$("#show3").removeClass("showActive");
					$("#show4").removeClass("showActive");
					$("#show5").removeClass("showActive");
					
					$("#show1").addClass("showInactive");
					$("#show2").addClass("showInactive");
					$("#show3").addClass("showInactive");
					$("#show4").addClass("showInactive");
					$("#show5").addClass("showInactive");
					
					$("#show"+msgJson.data).addClass("showActive");
				}
			});
		</script>
	</head>
	<body>
		<div id="stream">
			<audio controls autoplay>
				<source src="<stream_ip>" id="audio" type="audio/mpeg">
			</audio>
		</div>
		
		<div id="schedule">
			<p id="show1" class="showInactive">Theme: Gold Plated Cables 10:00</p>
			<p id="show2" class="showInactive">Massive Damage ---------- 13:00</p>
			<p id="show3" class="showInactive">Funky Friday ------------ 14:00</p>
			<p id="show4" class="showInactive">2xG --------------------- 15:00</p>
			<p id="show5" class="showInactive">Carls Crazy Covers ------ 16:00</p>
		</div>
	</body>
</html>
